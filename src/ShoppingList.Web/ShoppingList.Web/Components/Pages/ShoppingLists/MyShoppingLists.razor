@using ShoppingListDto = DTO.Models.ShoppingList;
@inject IMediator mediator;

@page "/my-shopping-lists"
@attribute [StreamRendering]

<PageTitle>Moje listy zakupów</PageTitle>

@if (shoppingLists is not null)
{
    foreach (var list in shoppingLists)
    {
        <ShoppingList ShoppingListId="list.Id" />
    }
}

@code {
    IReadOnlyCollection<ShoppingListDto> shoppingLists;

    protected override async Task OnInitializedAsync()
    {
        shoppingLists = await mediator.Send(new GetShoppingListsQuery());
    }
}
